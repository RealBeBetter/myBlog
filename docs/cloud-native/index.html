<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>【容器】Docker 入门 | Welcome to Real&#39;s blog.</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Real's personal blog.">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.7c9a019b.css" as="style"><link rel="preload" href="/assets/js/app.785c606f.js" as="script"><link rel="preload" href="/assets/js/3.da433c11.js" as="script"><link rel="preload" href="/assets/js/1.3943523c.js" as="script"><link rel="preload" href="/assets/js/24.bc102fe3.js" as="script"><link rel="prefetch" href="/assets/js/10.69095ea9.js"><link rel="prefetch" href="/assets/js/11.e3479a08.js"><link rel="prefetch" href="/assets/js/12.a1065df0.js"><link rel="prefetch" href="/assets/js/13.62515fd6.js"><link rel="prefetch" href="/assets/js/14.e59276da.js"><link rel="prefetch" href="/assets/js/15.ab2acd3c.js"><link rel="prefetch" href="/assets/js/16.876383df.js"><link rel="prefetch" href="/assets/js/17.8d69c00f.js"><link rel="prefetch" href="/assets/js/18.65ec17bf.js"><link rel="prefetch" href="/assets/js/19.835b4072.js"><link rel="prefetch" href="/assets/js/20.63da83d5.js"><link rel="prefetch" href="/assets/js/21.c85315ce.js"><link rel="prefetch" href="/assets/js/22.6c811a8a.js"><link rel="prefetch" href="/assets/js/23.ca2d52c9.js"><link rel="prefetch" href="/assets/js/25.26a75340.js"><link rel="prefetch" href="/assets/js/26.5b3a0eb0.js"><link rel="prefetch" href="/assets/js/27.41cb5c6b.js"><link rel="prefetch" href="/assets/js/28.87ab8458.js"><link rel="prefetch" href="/assets/js/29.22b5539d.js"><link rel="prefetch" href="/assets/js/30.50fa81aa.js"><link rel="prefetch" href="/assets/js/31.2ec3c686.js"><link rel="prefetch" href="/assets/js/32.ed501e4a.js"><link rel="prefetch" href="/assets/js/33.2d460984.js"><link rel="prefetch" href="/assets/js/34.474ef071.js"><link rel="prefetch" href="/assets/js/35.f091ce18.js"><link rel="prefetch" href="/assets/js/36.7b404ef3.js"><link rel="prefetch" href="/assets/js/37.69e15312.js"><link rel="prefetch" href="/assets/js/38.12c95cbd.js"><link rel="prefetch" href="/assets/js/39.0762b9c7.js"><link rel="prefetch" href="/assets/js/4.2ae52110.js"><link rel="prefetch" href="/assets/js/40.289c1ad3.js"><link rel="prefetch" href="/assets/js/41.1900847b.js"><link rel="prefetch" href="/assets/js/42.75a5440e.js"><link rel="prefetch" href="/assets/js/43.3d529033.js"><link rel="prefetch" href="/assets/js/44.66eb797b.js"><link rel="prefetch" href="/assets/js/45.d8f71906.js"><link rel="prefetch" href="/assets/js/46.5d9cdf39.js"><link rel="prefetch" href="/assets/js/47.eb5ced8d.js"><link rel="prefetch" href="/assets/js/48.447000e3.js"><link rel="prefetch" href="/assets/js/49.377ac2ad.js"><link rel="prefetch" href="/assets/js/5.a70bb81f.js"><link rel="prefetch" href="/assets/js/50.612a06c3.js"><link rel="prefetch" href="/assets/js/51.c7d5d06b.js"><link rel="prefetch" href="/assets/js/52.00bf1d41.js"><link rel="prefetch" href="/assets/js/53.e7f6b7f3.js"><link rel="prefetch" href="/assets/js/54.dd0c3649.js"><link rel="prefetch" href="/assets/js/55.b3c53568.js"><link rel="prefetch" href="/assets/js/56.cef96a2a.js"><link rel="prefetch" href="/assets/js/57.981ee734.js"><link rel="prefetch" href="/assets/js/58.b7cea689.js"><link rel="prefetch" href="/assets/js/59.44e9564b.js"><link rel="prefetch" href="/assets/js/6.4760a6a2.js"><link rel="prefetch" href="/assets/js/60.fc334031.js"><link rel="prefetch" href="/assets/js/61.934b6f13.js"><link rel="prefetch" href="/assets/js/62.2b0a5da6.js"><link rel="prefetch" href="/assets/js/63.920a5450.js"><link rel="prefetch" href="/assets/js/64.74229cd3.js"><link rel="prefetch" href="/assets/js/65.6e85d447.js"><link rel="prefetch" href="/assets/js/66.603cd49b.js"><link rel="prefetch" href="/assets/js/67.1e0e450f.js"><link rel="prefetch" href="/assets/js/68.4b26aac7.js"><link rel="prefetch" href="/assets/js/69.8fff7b35.js"><link rel="prefetch" href="/assets/js/7.6fd7c7ec.js"><link rel="prefetch" href="/assets/js/70.d4932490.js"><link rel="prefetch" href="/assets/js/71.6c3db66e.js"><link rel="prefetch" href="/assets/js/72.1b61536d.js"><link rel="prefetch" href="/assets/js/73.a46ca065.js"><link rel="prefetch" href="/assets/js/74.c5e315b2.js"><link rel="prefetch" href="/assets/js/75.6de637f4.js"><link rel="prefetch" href="/assets/js/76.f56594f2.js"><link rel="prefetch" href="/assets/js/77.8803cf78.js"><link rel="prefetch" href="/assets/js/8.a2db677b.js"><link rel="prefetch" href="/assets/js/9.ded7c587.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7c9a019b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Welcome to Real's blog.</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>Real's personal blog.</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>雨下一整晚Real</span>
            
          <span data-v-25ba6db2>2021-10-07 - </span>
          2023
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="Welcome to Real's blog." class="logo"> <span class="site-name">Welcome to Real's blog.</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-blog"></i>
      Daily
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2022/" class="nav-link"><i class="undefined"></i>
  2022
</a></li><li class="dropdown-item"><!----> <a href="/docs/2023/" class="nav-link"><i class="undefined"></i>
  2023
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Blog
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/basic/" class="nav-link"><i class="undefined"></i>
  Basic
</a></li><li class="dropdown-item"><!----> <a href="/docs/database/" class="nav-link"><i class="undefined"></i>
  Database
</a></li><li class="dropdown-item"><!----> <a href="/docs/java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/docs/frame/" class="nav-link"><i class="undefined"></i>
  Frame
</a></li><li class="dropdown-item"><!----> <a href="/docs/middleware/" class="nav-link"><i class="undefined"></i>
  Middleware
</a></li><li class="dropdown-item"><!----> <a href="/docs/cloud-native/" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  CloudNative
</a></li><li class="dropdown-item"><!----> <a href="/docs/project/" class="nav-link"><i class="undefined"></i>
  Project
</a></li><li class="dropdown-item"><!----> <a href="/docs/web/" class="nav-link"><i class="undefined"></i>
  Web
</a></li><li class="dropdown-item"><!----> <a href="/docs/other/" class="nav-link"><i class="undefined"></i>
  Other
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-mail"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/RealBeBetter" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/realBeBetter" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_43103529?spm=1000.2115.3001.5343" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/docs/about/about-me.html" class="nav-link"><i class="iconfont reco-message"></i>
  关于我
</a></li><li class="dropdown-item"><!----> <a href="/docs/about/contact-me.html" class="nav-link"><i class="iconfont reco-lock"></i>
  联系我
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><img src="/avatar.jpg" alt="author-avatar" class="personal-img" data-v-39576ba9> <h3 class="name" data-v-39576ba9>
    雨下一整晚Real
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>66</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>19</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-blog"></i>
      Daily
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2022/" class="nav-link"><i class="undefined"></i>
  2022
</a></li><li class="dropdown-item"><!----> <a href="/docs/2023/" class="nav-link"><i class="undefined"></i>
  2023
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Blog
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/basic/" class="nav-link"><i class="undefined"></i>
  Basic
</a></li><li class="dropdown-item"><!----> <a href="/docs/database/" class="nav-link"><i class="undefined"></i>
  Database
</a></li><li class="dropdown-item"><!----> <a href="/docs/java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/docs/frame/" class="nav-link"><i class="undefined"></i>
  Frame
</a></li><li class="dropdown-item"><!----> <a href="/docs/middleware/" class="nav-link"><i class="undefined"></i>
  Middleware
</a></li><li class="dropdown-item"><!----> <a href="/docs/cloud-native/" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  CloudNative
</a></li><li class="dropdown-item"><!----> <a href="/docs/project/" class="nav-link"><i class="undefined"></i>
  Project
</a></li><li class="dropdown-item"><!----> <a href="/docs/web/" class="nav-link"><i class="undefined"></i>
  Web
</a></li><li class="dropdown-item"><!----> <a href="/docs/other/" class="nav-link"><i class="undefined"></i>
  Other
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-mail"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/RealBeBetter" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/realBeBetter" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_43103529?spm=1000.2115.3001.5343" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/docs/about/about-me.html" class="nav-link"><i class="iconfont reco-message"></i>
  关于我
</a></li><li class="dropdown-item"><!----> <a href="/docs/about/contact-me.html" class="nav-link"><i class="iconfont reco-lock"></i>
  联系我
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/docs/cloud-native/" aria-current="page" class="active sidebar-link">【容器】Docker 入门</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>【容器】Docker 入门</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>雨下一整晚Real</span>
            
          <span data-v-25ba6db2>2021-10-07 - </span>
          2023
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">【容器】Docker 入门</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>雨下一整晚Real</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>1/12/2023</span></i> <i class="iconfont reco-eye" data-v-f875f3fc><span id="/docs/cloud-native/" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-f875f3fc><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>Container</span><span class="tag-item" data-v-f875f3fc>Cloud-Native</span></i></div></div> <div class="theme-reco-content content__default"><p>Docker 使用 Google 公司推出的 Go 语言进行开发实现，基于 Linux 内核的 cgroup、namespace 以及 OverlayFS 类的 Union FS 等技术，对进程进行封装隔离，属于操作系统层面的虚拟化技术。由于隔离的进程独立于宿主和其它的隔离的进程，因此也称其为容器。</p> <blockquote><p><a href="https://vuepress.mirror.docker-practice.com/introduction/what/" target="_blank" rel="noopener noreferrer">https://vuepress.mirror.docker-practice.com/introduction/what/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>简单来说，Docker 是一个在软件层面的实现，能为应用程序提供屏蔽计算机硬件以及操作系统层面的虚拟化。</p> <h2 id="docker-来源"><a href="#docker-来源" class="header-anchor">#</a> Docker 来源</h2> <p>在 Docker 和虚拟机 Virtual Machine 未诞生之时，相同的程序在部署时，会需要关注各种软件的兼容性问题。不仅在计算机硬件层面的兼容问题，还在于计算机操作系统层面的兼容问题。</p> <p><img src="https://img-blog.csdnimg.cn/img_convert/565676e6ee26046d6a9c67516ac48de5.png" alt="image.png"></p> <p>相同的软件部署在不同的环境下，呈现的结果可能会有极大差异。</p> <p>在这种环境下，虚拟机产生了。我们通过虚拟机，可以做到屏蔽操作系统层面的实现，也可以针对不同水平的硬件环境，在硬件这种物理层面进行模拟。</p> <p><img src="https://img-blog.csdnimg.cn/img_convert/60f4e0133a934972043bca02e0337fee.png" alt="image.png"></p> <p>但是如果我们只是想要部署运行一个应用程序，使用虚拟机会显得太过于笨重。因为通常情况下，虚拟机不仅要针对硬件环境模拟，还要针对全套的操作系统环境进行模拟。对于应用程序的部署来说，会有虚拟机模拟的大幅度性能损耗，也不方便部署。</p> <p>于是 Docker 的产生就解决了这个问题。只需要在不同的操作系统中，安装 Docker 这一软件，我们就能实现操作系统层面的硬件环境的屏蔽。且相对于虚拟机，更加轻便小巧，性能损耗也更小。</p> <p><img src="https://img-blog.csdnimg.cn/img_convert/c98351bbbba42025fb3275cea3429414.png" alt="image.png"></p> <h2 id="docker-简介"><a href="#docker-简介" class="header-anchor">#</a> Docker 简介</h2> <p>在 Docker 中，有一些非常重要的概念。</p> <p><img src="https://img-blog.csdnimg.cn/img_convert/47ace07c506ded35ad23b3b106939f8f.png" alt="image.png"></p> <ul><li>Dockerfile：用于创建容器，是一个自动化脚本。使用 Dockerfile 可以很方便地根据镜像创建容器。</li> <li>Image：镜像。提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数（如匿名卷、环境变量、用户等）。镜像<strong>不包含</strong>任何动态数据，其内容在构建之后也不会被改变。</li> <li>Container：容器。镜像（Image）和容器（Container）的关系，就像是面向对象程序设计中的 类 和 实例 一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等。容器的实质是进程，但与直接在宿主执行的进程不同，容器进程运行于属于自己的独立的命名空间（NameSpace），因此容器可以拥有自己的 root 文件系统、自己的网络配置、自己的进程空间等。</li></ul> <p><img src="https://img-blog.csdnimg.cn/img_convert/85a12fff336758ec277f57b4756d961a.png" alt="image.png"></p> <h2 id="docker-安装"><a href="#docker-安装" class="header-anchor">#</a> Docker 安装</h2> <blockquote><p>使用环境：使用 <code>cat /proc/version</code> 命令查看。</p> <p>Cent OS7 64位：Linux version 3.10.0-693.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-16) (GCC) ) #1 SMP Tue Aug 22 21:09:27 UTC 2017</p></blockquote> <p>使用命令安装：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 安装 gnome-terminal</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> gnome-terminal

<span class="token comment"># 删除残留文件</span>
<span class="token function">sudo</span> yum remove docker-desktop

<span class="token comment"># 完整清理 docker 数据和配置</span>
<span class="token function">rm</span> -r <span class="token environment constant">$HOME</span>/.docker/desktop
<span class="token function">sudo</span> <span class="token function">rm</span> /usr/local/bin/com.docker.cli
<span class="token function">sudo</span> <span class="token function">apt</span> purge docker-desktop

<span class="token comment"># 清除旧版本的下载残留</span>
<span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\</span>
                  docker-client <span class="token punctuation">\</span>
                  docker-client-latest <span class="token punctuation">\</span>
                  docker-common <span class="token punctuation">\</span>
                  docker-latest <span class="token punctuation">\</span>
                  docker-latest-logrotate <span class="token punctuation">\</span>
                  docker-logrotate <span class="token punctuation">\</span>
                  docker-engine
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>设置安装的 Docker 使用的存储库：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 官方推荐</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token punctuation">\</span>
    ca-certificates <span class="token punctuation">\</span>
    <span class="token function">curl</span> <span class="token punctuation">\</span>
    gnupg <span class="token punctuation">\</span>
    lsb-release

<span class="token comment"># 建议使用</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils <span class="token punctuation">\</span>
  device-mapper-persistent-data <span class="token punctuation">\</span>
  lvm2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><img src="https://img-blog.csdnimg.cn/img_convert/bee4682095f5b715d87b9ba354a0ed34.png" alt="image.png"></p> <p><img src="https://img-blog.csdnimg.cn/img_convert/421c34fc5888933be5b2a068ef2fce8e.png" alt="image.png"></p> <p>设置仓库源地址：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># aliyun 镜像</span>
<span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo

<span class="token comment"># 清华镜像</span>
<span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/docker-ce.repo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>安装  Docker Engine-Community，此处安装的是默认版本。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io docker-compose-plugin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>**要安装特定版本的 Docker Engine-Community，请在存储库中列出可用版本，然后选择并安装：**列出并排序您存储库中可用的版本。此示例按版本号（从高到低）对结果进行排序。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum list docker-ce --showduplicates <span class="token operator">|</span> <span class="token function">sort</span> -r

<span class="token comment"># 运行结果</span>
docker-ce.x86_64            <span class="token number">3</span>:20.10.9-3.el7                    docker-ce-stable 
docker-ce.x86_64            <span class="token number">3</span>:20.10.8-3.el7                    docker-ce-stable 
docker-ce.x86_64            <span class="token number">3</span>:20.10.7-3.el7                    docker-ce-stable 
docker-ce.x86_64            <span class="token number">3</span>:20.10.6-3.el7                    docker-ce-stable 
docker-ce.x86_64            <span class="token number">3</span>:20.10.5-3.el7                    docker-ce-stable 
docker-ce.x86_64            <span class="token number">3</span>:20.10.4-3.el7                    docker-ce-stable 
docker-ce.x86_64            <span class="token number">3</span>:20.10.3-3.el7                    docker-ce-stable 
docker-ce.x86_64            <span class="token number">3</span>:20.10.2-3.el7                    docker-ce-stable 
docker-ce.x86_64            <span class="token number">3</span>:20.10.22-3.el7                   docker-ce-stable 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>通过其完整的软件包名称安装特定版本，该软件包名称是软件包名称（docker-ce）加上版本字符串（第二列），从第一个冒号（:）一直到第一个连字符，并用连字符（-）分隔。例如：docker-ce-18.09.1。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce-<span class="token operator">&lt;</span>VERSION_STRING<span class="token operator">&gt;</span> docker-ce-cli-<span class="token operator">&lt;</span>VERSION_STRING<span class="token operator">&gt;</span> containerd.io
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>接下来就可以使用 docker 了：</p> <p><img src="https://img-blog.csdnimg.cn/img_convert/636e287270712d5db54d0dcbc5ae7f13.png" alt="image.png"></p> <p>其他命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 启动 docker</span>
<span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
<span class="token comment"># 运行容器</span>
<span class="token function">sudo</span> <span class="token function">docker</span> run hello-world
<span class="token comment"># 删除安装包</span>
yum remove docker-ce
<span class="token comment"># 删除所有相关文件</span>
<span class="token function">rm</span> -rf /var/lib/docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>安装参考资料：</p> <p><a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/engine/install/ubuntu/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.runoob.com/docker/centos-docker-install.html" target="_blank" rel="noopener noreferrer">https://www.runoob.com/docker/centos-docker-install.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="dockerfile-文件"><a href="#dockerfile-文件" class="header-anchor">#</a> DockerFile 文件</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 规定程序需要的运行环境，格式&lt;Name&gt;:&lt;Version/Tag&gt;</span>
FROM python:3.8-slim-buster
<span class="token comment"># 规定程序的工作目录</span>
WORKDIR /app
<span class="token comment"># 将源程序文件复制到目标目录</span>
COPY <span class="token builtin class-name">.</span> <span class="token builtin class-name">.</span>
<span class="token comment"># RUN 表示创建镜像时需要运行的程序相关命令</span>
RUN pip3 <span class="token function">install</span> -r requirements.txt
<span class="token comment"># 运行CMD指令</span>
CMD <span class="token punctuation">[</span><span class="token string">&quot;python3&quot;</span>, <span class="token string">&quot;app.py&quot;</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>按照既定的规则编写好 DockerFile 之后，我们就可以通过 DockerFile 创建指定的镜像。</p> <p><a href="https://www.yuque.com/attachments/yuque/0/2023/txt/29554606/1673162389282-126e0bab-67d2-47b4-bb9d-9fa3df17d741.txt?_lake_card=%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2023%2Ftxt%2F29554606%2F1673162389282-126e0bab-67d2-47b4-bb9d-9fa3df17d741.txt%22%2C%22name%22%3A%22Dockerfile.txt%22%2C%22size%22%3A329%2C%22type%22%3A%22text%2Fplain%22%2C%22ext%22%3A%22txt%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22ucc9195b7-1a06-48ad-8aab-92409d0ae70%22%2C%22taskType%22%3A%22upload%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22u4275df2d%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22card%22%3A%22file%22%7D" target="_blank" rel="noopener noreferrer">Dockerfile.txt<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>注意：DockerFile 是创建镜像使用的。文件无任何后缀。</p></blockquote> <p>使用命令创建镜像：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># -t 指定镜像的名字</span>
<span class="token comment"># 最后一个参数表示 DockerFile 所在的目录</span>
<span class="token function">docker</span> build -t <span class="token operator">&lt;</span>ImageName<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>DockerFile Path<span class="token operator">&gt;</span>

<span class="token comment"># 例如</span>
<span class="token function">docker</span> build -t my-app <span class="token builtin class-name">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>使用命令启动容器：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 通过 -p 指定机器端口和容器端口进行映射</span>
<span class="token comment"># -d 指定镜像名称</span>
<span class="token function">docker</span> run -p <span class="token operator">&lt;</span>MachinePort<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>ContainerPort<span class="token operator">&gt;</span> -d <span class="token operator">&lt;</span>ImageName<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>之后我们可以在 Docker-Desktop 程序中看到启动的容器。</p> <blockquote><p>Docker 中容器和镜像的关系：</p> <ul><li>Java 中的一个类，可以借助这个类创建非常多的对象，也称为实例。</li> <li>类比于镜像和容器，镜像就是 Class，容器就是 Object。我们借助镜像可以创建非常多的容器，一个个容器就相当于实例。</li> <li>在针对某些容器进行操作，可以理解为我们向对象进行了各种赋值等操作；与此同时，对象/容器就有了各自的一些属性/数据。所以，我们需要持久化的是容器，而不是镜像。</li></ul></blockquote> <p>其他命令：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 列举所有的容器</span>
<span class="token function">docker</span> <span class="token function">ps</span>
<span class="token comment"># 停止容器</span>
<span class="token function">docker</span> stop <span class="token operator">&lt;</span>containerId<span class="token operator">&gt;</span>
<span class="token comment"># 重启容器</span>
<span class="token function">docker</span> restart <span class="token operator">&lt;</span>containerId<span class="token operator">&gt;</span>
<span class="token comment"># 删除容器</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token operator">&lt;</span>containerId<span class="token operator">&gt;</span>
<span class="token comment"># 启动一个远程 shell</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it <span class="token operator">&lt;</span>containerId<span class="token operator">&gt;</span> /bin/bash
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="docker-持久化"><a href="#docker-持久化" class="header-anchor">#</a> Docker 持久化</h2> <p>需要注意的是，删除容器，会导致其中的数据全部丢失。相当于计算机中删除了虚拟机，那么在虚拟机中创建和修改的数据都会全部丢失。</p> <p>如果想要数据不丢失，我们需要将 Docker 的 Container 中的数据进行持久化。</p> <p>为了实现容器中数据的持久化保存和备份，我们可以使用 Docker 中的 <code>Volumes</code> 数据卷来实现。</p> <p><img src="https://img-blog.csdnimg.cn/img_convert/c6cf9b4bdec9487ee4f52d1820c531b4.png" alt="image.png"></p> <blockquote><p>参考文档：<a href="https://docs.docker.com/storage/volumes/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/storage/volumes/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p><img src="https://img-blog.csdnimg.cn/img_convert/0104c95fcb99c6da6f214fd94574fed3.png" alt="image.png"></p> <p>volume 就相当于在本地主机和不同容器之间的一个共享文件夹。在某一个容器上修改了数据，会对应反映在共同关联在该 volumn 的其他容器上。</p> <p>创建 volume 数据卷：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 创建数据卷</span>
<span class="token function">docker</span> volume create <span class="token operator">&lt;</span>VolumeName<span class="token operator">&gt;</span>

<span class="token comment"># 启动或运行容器</span>
<span class="token comment"># 这里的 &lt;FilePath&gt; 是指定将 volume 挂载 mounted 到机器的目标路径</span>
<span class="token function">docker</span> run -dp <span class="token number">80</span>:5000 -v <span class="token operator">&lt;</span>VolumeName<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>FilePath<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>ImageName<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="docker-多容器部署"><a href="#docker-多容器部署" class="header-anchor">#</a> Docker 多容器部署</h2> <p>为了实现应用程序和数据的分布式部署，我们可以创建多个容器。这样可以提高系统的可用性，也能加快启动和恢复时间。</p> <p>创建 docker-compose.yml 文件：</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;1&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> .
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;80:5000&quot;</span>

  <span class="token key atrule">db</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">&quot;mysql&quot;</span>
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_DATABASE</span><span class="token punctuation">:</span> app<span class="token punctuation">-</span>db
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> secret
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> app<span class="token punctuation">-</span>data<span class="token punctuation">:</span>/var/lib/mysql

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">my-app-data</span><span class="token punctuation">:</span>
    /etc/app
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><a href="https://www.yuque.com/attachments/yuque/0/2023/yml/29554606/1673162321673-581ef3a3-2585-4157-8dd1-83e10197555d.yml?_lake_card=%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2023%2Fyml%2F29554606%2F1673162321673-581ef3a3-2585-4157-8dd1-83e10197555d.yml%22%2C%22name%22%3A%22docker-compose.yml%22%2C%22size%22%3A281%2C%22type%22%3A%22%22%2C%22ext%22%3A%22yml%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u535e76cf-7a03-4f1c-9f19-62542a36e2a%22%2C%22taskType%22%3A%22upload%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22ub541056c%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22card%22%3A%22file%22%7D" target="_blank" rel="noopener noreferrer">docker-compose.yml<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>编写好文件之后，直接运行：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># -d 表示 detach 在后台运行</span>
<span class="token comment"># 整个命令表示在后台运行所有yml文件中的所有容器</span>
<span class="token function">docker</span> compose up -d
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 停止并删除所有容器，这里并不会删除 volumes 数据卷</span>
<span class="token comment"># 如果需要删除所有的 volumes 数据卷，可以加上 --volumes 参数</span>
<span class="token function">docker</span> compose down
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="docker-与-kubernates"><a href="#docker-与-kubernates" class="header-anchor">#</a> Docker 与 Kubernates</h2> <p>Kubernates 能取代的是 Docker 中的容器引擎 Container-Engine，并不能取代 Docker。两者并非一个层面的东西。</p> <p><img src="https://img-blog.csdnimg.cn/img_convert/2b9bfd5ccf904da3ff6d6aa0e7a54bcf.png" alt="image.png">
Kubernates 更多做的是容器编排。即在部署容器的时候，相比原有的 Docker-Container-Engine 可以更好地做到负载均衡、故障转移等。</p> <p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-gSi3aduW-1673453139200)(null)]</p> <blockquote><p>参考资料：<a href="https://kubernetes.io/docs/concepts/overview/components/" target="_blank" rel="noopener noreferrer">https://kubernetes.io/docs/concepts/overview/components<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>/</p></blockquote> <p>在 Cluster 集群部署中，Kubernates 所做的就是将各个容器分发到一个集群中运行，并进行全自动化的管理，包括应用的部署和升级。</p> <p><img src="https://img-blog.csdnimg.cn/img_convert/4ade70091c5fad7548cf5fbc0bc8be62.png" alt="image.png"></p> <blockquote><p>参考资料：</p> <p>【Docker 10分钟快速入门】 <a href="https://www.bilibili.com/video/BV1s54y1n7Ev/?share_source=copy_web&amp;vd_source=6de80ff9f17ce8c00bfb41f8d5c0afef" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1s54y1n7Ev/?share_source=copy_web&amp;vd_source=6de80ff9f17ce8c00bfb41f8d5c0afef<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <blockquote><p>更多 Docker 相关资料：</p> <p><a href="https://docs.docker.com/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://yeasy.gitbook.io/docker_practice" target="_blank" rel="noopener noreferrer">https://yeasy.gitbook.io/docker_practice<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://vuepress.mirror.docker-practice.com/" target="_blank" rel="noopener noreferrer">https://vuepress.mirror.docker-practice.com<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">1/11/2023, 4:09:54 PM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/docs/cloud-native/#docker-来源" class="sidebar-link reco-side-docker-来源" data-v-cb1513f6>Docker 来源</a></li><li class="level-2" data-v-cb1513f6><a href="/docs/cloud-native/#docker-简介" class="sidebar-link reco-side-docker-简介" data-v-cb1513f6>Docker 简介</a></li><li class="level-2" data-v-cb1513f6><a href="/docs/cloud-native/#docker-安装" class="sidebar-link reco-side-docker-安装" data-v-cb1513f6>Docker 安装</a></li><li class="level-2" data-v-cb1513f6><a href="/docs/cloud-native/#dockerfile-文件" class="sidebar-link reco-side-dockerfile-文件" data-v-cb1513f6>DockerFile 文件</a></li><li class="level-2" data-v-cb1513f6><a href="/docs/cloud-native/#docker-持久化" class="sidebar-link reco-side-docker-持久化" data-v-cb1513f6>Docker 持久化</a></li><li class="level-2" data-v-cb1513f6><a href="/docs/cloud-native/#docker-多容器部署" class="sidebar-link reco-side-docker-多容器部署" data-v-cb1513f6>Docker 多容器部署</a></li><li class="level-2" data-v-cb1513f6><a href="/docs/cloud-native/#docker-与-kubernates" class="sidebar-link reco-side-docker-与-kubernates" data-v-cb1513f6>Docker 与 Kubernates</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><!----><!----><!----></div></div>
    <script src="/assets/js/app.785c606f.js" defer></script><script src="/assets/js/3.da433c11.js" defer></script><script src="/assets/js/1.3943523c.js" defer></script><script src="/assets/js/24.bc102fe3.js" defer></script>
  </body>
</html>
